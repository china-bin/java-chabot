(function(c){var d=function(o){var l='<select class="pageSize">';var n=0;for(var m=0;m<o.pageList.length;m++){l+='<option value="'+o.pageList[m]+'">'+o.pageList[m]+"</option>";if(o.pageList[m]===o.pageSize){n=1}}if(n===0){l+='<option value="'+o.pageSize+'">'+o.pageSize+"</option>"}l+="</select>";return l};var j=function(l){var m=l.pageSize;if(typeof(l.onPageSizeChange)!=="undefined"){m=d(l)}return l.infoTemplet.replace("{pageSize}",m).replace("{totalCount}",l.totalCount).replace("{pageIndex}",l.pageIndex).replace("{pageCount}",l.pageCount)};var f=function(m){var l="";if(m.pageIndex>1){if(m.showFirstLast&&m.pageCount>1){l+='<li><a data-pageNum="1" >'+m.firstText+"</a></li>"}if(m.showPreNext&&m.pageCount>1){l+='<li><a data-pageNum="'+(m.pageIndex-1)+'" >'+m.preText+"</a></li>"}if(!m.showFirstLast&&m.pageCount>0){l+='<li><a data-pageNum="1" >1</a></li>'}}else{if(m.showFirstLast&&m.pageCount>1){l+='<li class="disabled"><a>'+m.firstText+"</a></li>"}if(m.showPreNext&&m.pageCount>1){if(m.loop==true){l+='<li><a data-pageNum="'+m.pageCount+'">'+m.preText+"</a></li>"}else{l+='<li class="disabled"><a>'+m.preText+"</a></li>"}}if(!m.showFirstLast&&m.pageCount>0&&!(m.pageCount===1&&m.pageIndex===0)){l+='<li class="';if(m.pageIndex===1){l+="active"}else{l+="disabled"}l+='"><a>1</a></li>'}}return l};var e=function(p){var n="";var o=false;var q=false;var r=2;var l=p.pageCount-1;if(p.showFirstLast){r=1;l=p.pageCount}for(var m=r;m<=l;m++){if(p.pageIndex-m>p.showNearby&&p.pageIndex-m>0){if(!o){n+='<li class="disabled"><a>...</a></li>';o=true}}else{if(m-p.pageIndex>p.showNearby&&m-p.pageIndex>0){if(!q){n+='<li class="disabled"><a>...</a></li>';q=true}}else{if(m!==p.pageIndex){n+='<li><a data-pageNum="'+m+'" >'+m+"</a></li>"}else{n+='<li class="active"><a>'+m+"</a></li>"}}}}return n};var a=function(m){var l="";if(m.pageIndex<m.pageCount){if(!m.showFirstLast&&m.pageCount>0){l+='<li><a data-pageNum="'+m.pageCount+'" >'+m.pageCount+"</a></li>"}if(m.showPreNext&&m.pageCount>1){l+='<li><a data-pageNum="'+(m.pageIndex+1)+'" >'+m.nextText+"</a></li>"}if(m.showFirstLast&&m.pageCount>1){l+='<li><a data-pageNum="'+m.pageCount+'" >'+m.lastText+"</a></li>"}}else{if(!m.showFirstLast&&m.pageCount>1){l+='<li class="';if(m.pageIndex>m.pageCount){l+="disabled"}else{l+="active"}l+='"><a>'+m.pageCount+"</a></li>"}if(m.showPreNext&&m.pageCount>1){if(m.loop==true){l+='<li><a data-pageNum="1">'+m.nextText+"</a></li>"}else{l+='<li class="disabled"><a>'+m.nextText+"</a></li>"}}if(m.showFirstLast&&m.pageCount>1){l+='<li class="disabled"><a>'+m.lastText+"</a></li>"}}return l};var k=function(l,n){var m='<div class=" '+n.boxClass+'">';m+='<div class=" info">'+j(n)+"</div><!-- info end  -->";m+="<ul>";m+=f(n);m+=e(n);m+=a(n);if(n.showGoInput&&n.pageCount>1){m+='<li><span><input type="text"/></span></li>'}m+="</ul>";m+='<div style="clear:both;"></div>';m+="</div><!-- sdpagination end  -->";return m};var i=function(n,m){var l=n.find(".pageSize");if(l.length>0){l.find('option[value="'+m.pageSize+'"]').attr("selected","selected");l.on("change",function(){var o=c(this).val();m.pageSize=o;if(m.onPageSizeChange){m.onPageSizeChange(o)}})}};var h=function(m,l){m.find("a").each(function(o,p){var n=c.trim(c(p).attr("data-pageNum"));if(typeof(n)!=="undefined"&&n.length>0){c(p).on("click",function(){if(l.onPageIndexChange){l.onPageIndexChange(n,l.pageSize)}})}})};var g=function(n,l){var m=n.find("input");if(m.length===0){return}m.on("change",function(){var o=c(this).val();if(o.length>0&&/^[1-9]\d*$/.test(o)===true&&parseInt(o)<=parseInt(l.pageCount)&&l.onPageIndexChange){l.onPageIndexChange(o,l.pageSize)}else{c(this).val("")}});m.on("focus",function(){c(this).closest("span").addClass("focus")});m.on("blur",function(){c(this).closest("span").removeClass("focus")})};var b={init:function(l){return this.each(function(){var o=c(this);var n={boxClass:"sdpagination",totalCount:0,pageSize:10,pageList:[5,10,20,100,200],pageIndex:1,showNearby:4,preText:"&lt;",nextText:"&gt;",firstText:"&lt;&lt;",lastText:"&gt;&gt;",infoTemplet:"共{totalCount}条 当前{pageIndex}/{pageCount}页 每页显示{pageSize}条",showFirstLast:false,showPreNext:true,showGoInput:true,loop:true};var m=c.extend({},n,l);if(typeof(m.pageSize)==="undefined"||m.pageSize<1){m.pageSize=10}if(typeof(m.pageIndex)==="undefined"||m.pageIndex<0){m.pageIndex=1}m.pageIndex=parseInt(m.pageIndex);m.pageSize=parseInt(m.pageSize);m.pageCount=parseInt((m.totalCount+m.pageSize-1)/m.pageSize);if(m.pageCount===0){m.pageIndex=0}o.html(k(o,m));o.find("a").prop("href","javascript:;");if((m.pageIndex>m.pageCount||(m.pageCount>0&&m.pageIndex===0))&&m.onPageIndexOutOfRange){m.onPageIndexOutOfRange(m.pageIndex,m.pageCount)}i(o,m);h(o,m);g(o,m)})}};c.fn.sdpagination=function(){var m=arguments[0];var l=arguments;if(b[m]){m=b[m];l=Array.prototype.slice.call(arguments,1)}else{if(typeof(m)==="object"||!m){m=b.init}else{c.error("Method "+m+" does not exist on jQuery.sdpagination");return this}}return m.apply(this,l)}})(jQuery);